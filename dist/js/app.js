(function(e){function t(t){for(var o,r,a=t[0],i=t[1],s=t[2],b=0,p=[];b<a.length;b++)r=a[b],Object.prototype.hasOwnProperty.call(u,r)&&u[r]&&p.push(u[r][0]),u[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==u[i]&&(o=!1)}o&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},u={app:0},c=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2c1d":function(e,t,n){"use strict";n("addb")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),u=Object(o["q"])("data-v-c4184e20");Object(o["h"])("data-v-c4184e20");var c={class:"logo"},r={class:"contrib-title"},a={class:"frequency"},i={class:"monthly-info"},s=Object(o["e"])("hr",null,null,-1),l=Object(o["e"])("h2",{class:"amount-title"},"Escolha um valor",-1),b={class:"amounts"},p=Object(o["e"])("hr",null,null,-1),m={key:0,class:"custom-amount"},d=Object(o["e"])("label",null,"Valor personalizado:",-1),f={class:"error"},j={key:1},O=Object(o["e"])("button",{class:"submit"},"Doar",-1),v={key:2},g={key:0},y={class:"payLink"},h=Object(o["d"])(" para prosseguir"),A={key:3,class:"by"},k=Object(o["d"])("Contibuição feita via "),C=Object(o["e"])("a",{href:"https://pagseguro.ricardomartins.net.br/doar-com-pagseguro?utm_source=doarbox",target:"_blank"},"PagSeguro UOL",-1);Object(o["g"])();var S=u((function(e,t,n,u,S,q){var I=Object(o["j"])("CustomAmountInput"),_=Object(o["j"])("Spinner");return Object(o["f"])(),Object(o["b"])("form",{onSubmit:t[7]||(t[7]=Object(o["p"])((function(){return u.handleSubmit&&u.handleSubmit.apply(u,arguments)}),["prevent"])),class:"mainForm"},[Object(o["e"])("div",c,[Object(o["e"])("img",{alt:"Logo",src:u.logo},null,8,["src"])]),Object(o["e"])("h2",r,Object(o["k"])(u.title),1),Object(o["e"])("div",a,[Object(o["e"])("button",{class:["unique",{active:"U"==u.frequency}],onClick:t[1]||(t[1]=Object(o["p"])((function(e){return u.frequency="U"}),["prevent"]))},"Única",2),Object(o["e"])("button",{class:["monthly",{active:"M"==u.frequency}],onClick:t[2]||(t[2]=Object(o["p"])((function(e){return u.frequency="M"}),["prevent"]))},"Mensal",2),Object(o["o"])(Object(o["e"])("p",i,"Você pode cancelar a qualquer momento direto na sua conta PagSeguro.",512),[[o["m"],"M"==u.frequency]])]),s,l,Object(o["e"])("div",b,[Object(o["e"])("button",{class:["option",{active:10==u.amount}],onClick:t[3]||(t[3]=Object(o["p"])((function(e){u.amount=10,u.useCustomAmount=!1}),["prevent"]))},"R$ 10",2),Object(o["e"])("button",{class:["option",{active:50==u.amount}],onClick:t[4]||(t[4]=Object(o["p"])((function(e){u.amount=50,u.useCustomAmount=!1}),["prevent"]))},"R$ 50",2),Object(o["e"])("button",{class:["option",{active:100==u.amount}],onClick:t[5]||(t[5]=Object(o["p"])((function(e){u.amount=100,u.useCustomAmount=!1}),["prevent"]))},"R$ 100",2),Object(o["e"])("button",{class:["option",{active:u.useCustomAmount}],onClick:t[6]||(t[6]=Object(o["p"])((function(){return u.setUseCustom&&u.setUseCustom.apply(u,arguments)}),["prevent"]))},"Outro Valor",2),p]),u.useCustomAmount?(Object(o["f"])(),Object(o["b"])("div",m,[d,Object(o["e"])(I,{amount:u.amount,ref:"customAmountInput",onUpdateAmount:u.updateAmount},null,8,["amount","onUpdateAmount"])])):Object(o["c"])("",!0),Object(o["e"])("div",f,Object(o["k"])(u.errorMsg),1),u.submitted?(Object(o["f"])(),Object(o["b"])("div",v,[u.payLink?Object(o["c"])("",!0):(Object(o["f"])(),Object(o["b"])("div",g,[Object(o["e"])(_)])),Object(o["o"])(Object(o["e"])("div",null,[Object(o["e"])("p",y,[Object(o["e"])("a",{href:u.payLink,ref:"aPayLink",target:"_blank"},"Clique aqui",8,["href"]),h])],512),[[o["m"],u.payLink]])])):(Object(o["f"])(),Object(o["b"])("div",j,[O])),u.payLink?Object(o["c"])("",!0):(Object(o["f"])(),Object(o["b"])("p",A,[k,C]))],32)})),q=(n("d3b7"),Object(o["q"])("data-v-7fed7e61")),I=q((function(e,t,n,u,c,r){return Object(o["o"])((Object(o["f"])(),Object(o["b"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.customAmount=e}),onBlur:t[2]||(t[2]=function(){return u.formatAndUpdateAmount&&u.formatAndUpdateAmount.apply(u,arguments)}),onFocus:t[3]||(t[3]=function(){return u.removeSymbol&&u.removeSymbol.apply(u,arguments)}),ref:"customAmountInput",placeholder:"R$ 123,99",class:"customAmountInput"},null,544)),[[o["l"],u.customAmount]])})),_=(n("ac1f"),n("5319"),{name:"CustomAmountInput",props:["amount"],setup:function(e,t){var n=t.emit,u=Object(o["i"])(""),c=Object(o["i"])(null),r=Object(o["i"])(""),a=function(){var e=parseFloat(1*u.value.replace(/[^0-9,\.]+/,"").replace(".","").replace(",","."));n("updateAmount",e),r.value=e.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),u.value=r.value},i=function(){u.value=u.value.replace(/[^0-9,\.]+/,"")};return{customAmount:u,customAmountInput:c,formattedAmountWithSymbol:r,removeSymbol:i,formatAndUpdateAmount:a}},mounted:function(){this.$nextTick((function(){this.$el.focus()}))}});_.render=I,_.__scopeId="data-v-7fed7e61";var w=_,U=Object(o["q"])("data-v-39ef9381");Object(o["h"])("data-v-39ef9381");var L={class:"spin"};Object(o["g"])();var P=U((function(e,t,n,u,c,r){return Object(o["f"])(),Object(o["b"])("div",L)})),M={name:"Spinner"};n("9c17");M.render=P,M.__scopeId="data-v-39ef9381";var x=M,E={name:"App",components:{Spinner:x,CustomAmountInput:w},props:{receiverKey:{type:String,required:!0}},setup:function(){var e=Object(o["i"])(0),t=Object(o["i"])(!1),n=Object(o["i"])(""),u=Object(o["i"])(null),c=Object(o["i"])("U"),r=Object(o["i"])(""),a=Object(o["i"])(!1),i=Object(o["i"])(null),s=Object(o["i"])(null),l=Object(o["i"])("Contribua com nosso projeto"),b=Object(o["i"])("https://cdn.jsdelivr.net/gh/r-martins/doacao-pagseguro@0.1.0/src/assets/pagseguro-contribua.png");function p(){t.value=!0,e.value=0,setTimeout((function(){}),1)}function m(){a.value=!0,r.value="",i.value="";var t=new FormData;t.append("amount",e.value),t.append("frequency",c.value),t.append("receiverEmail",document.getElementById("doar-pagseguro").dataset.receiveremail),fetch("https://ws.ricardomartins.net.br/pspro/v7/donate/new",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.error)throw Error(e.error.message+" (err:"+e.error.code+")");e.redirectTo&&(i.value=e.redirectTo)})).catch((function(e){console.log(e),a.value=!1,r.value=e.message}))}function d(t){e.value=t}return Object(o["n"])(e,(function(){a.value=!1})),{amount:e,useCustomAmount:t,customAmount:n,setUseCustom:p,customAmountInput:u,updateAmount:d,frequency:c,handleSubmit:m,errorMsg:r,submitted:a,payLink:i,aPayLink:s,logo:b,title:l}},beforeMount:function(){document.getElementById("doar-pagseguro").dataset.title&&(this.title=document.getElementById("doar-pagseguro").dataset.title),document.getElementById("doar-pagseguro").dataset.logo&&(this.logo=document.getElementById("doar-pagseguro").dataset.logo)}};n("2c1d");E.render=S,E.__scopeId="data-v-c4184e20";var B=E;Object(o["a"])(B).mount("#doar-pagseguro")},"9c17":function(e,t,n){"use strict";n("b167")},addb:function(e,t,n){},b167:function(e,t,n){}});
//# sourceMappingURL=app.js.map